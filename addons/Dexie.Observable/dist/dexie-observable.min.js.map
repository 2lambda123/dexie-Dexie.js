{"version":3,"sources":["dexie-observable.js"],"names":["global","factory","exports","module","require","define","amd","globalThis","self","Dexie","Observable","this","_interopDefaultLegacy","e","default","Dexie__default","nop","promisableChain","f1","f2","res","apply","arguments","then","thiz","args","createUUID","d","Date","now","replace","c","r","Math","random","floor","toString","CREATE","UPDATE","DELETE","initCrudMonitor","db","table","hook","_observing","tableName","name","subscribe","primKey","obj","trans","rv","undefined","schema","uuid","keyPath","setByKeyPath","change","source","key","type","promise","_changes","add","rev","_lastWrittenRevision","max","onsuccess","resultKey","_then","put","onerror","delete","initCreatingHook","mods","oldObj","modsWithoutUndefined","anythingChanged","newObj","deepClone","propPath","mod","delByKeyPath","currentValue","getByKeyPath","JSON","stringify","initUpdatingHook","catch","console","log","stack","initDeletingHook","Promise$2","Promise","initIntercomm","SyncNode","mySyncNode","localStorage","requestsWaitingForReply","consumeIntercommMessages","node","ignoreTransaction","transaction","_intercomm","where","destinationNode","id","toArray","messages","forEach","msg","request","requestId","isFailure","reject","message","error","resolve","result","observable","sendMessage","sender","on","fire","consumeMessage","anyOf","map","DatabaseClosedError","options","wantReply","extend","tables","push","_syncNodes","equals","count","receiverAlive","above","first","masterNode","messageId","setItem","intercomm","broadcastMessage","bIncludeSelf","mySyncNodeId","nodes","all","filter","onIntercomm","dbname","overrideParseStoresSpec","origFunc","stores","dbSchema","call","Object","keys","indexOf","substr","DatabaseChange","defineClass","Number","String","override","Promise$1","browserIsShuttingDown","test","version","Error","NODE_TIMEOUT","HIBERNATE_GRACE_PERIOD","LOCAL_POLL","HEARTBEAT_INTERVAL","localStorageImpl","myRevision","lastHeartBeat","deleteTimeStamp","url","isMaster","syncProtocol","syncContext","syncOptions","connected","status","appliedRemoteRevision","remoteBaseRevisions","local","remote","dbUploadState","tablesToUpload","currentTable","currentKey","localBaseRevision","wakeupObservers","lastWrittenRevision","latestRevision","initWakeupObservers","overrideCreateTransaction","mode","storenames","dbschema","parent","dynamicallyOpened","addChanges","some","storeName","slice","rootTransaction","findRootTransaction","timeoutHandle","clearTimeout","setTimeout","initOverrideCreateTransaction","crudMonitor","overrideOpen","origOpen","_allTables","mapToClass","initOverrideOpen","defineProperty","get","pollHandle","heartbeatHandle","fake","_uncommittedChanges","Version","prototype","_parseStoresSpec","addEventType","changes","cleanup","_createTransaction","open","close","origClose","unsubscribe","onLatestRevisionIncremented","onSuicide","onBeforeUnload","suicideNurseCall","origDelete","orderBy","last","lastChange","latestRevisionIncremented","mySyncNodeShouldBecomeMaster","reverse","modify","existingNode","poll","heartbeat","handledRevision","vip","readChanges","recursion","wasPartial","ongoingOperation","partial","ourSyncNode","limit","length","ourNodeStillExists","syncNode","location","reload","finally","currentInstance","isOpen","weBecameMaster","below","value","removeItem","update","deleteOldChanges","wereTheOneDying","nodeID","Events","oldestNode","primaryKeys","keysToDelete","bulkDelete","_onStorage","event","parts","split","prop","parseInt","newValue","isNaN","_onBeforeUnload","beforeunload","ex","addEventListener","addons"],"mappings":"CAsBA,SAAWA,EAAQC,GACI,iBAAZC,SAA0C,oBAAXC,OAAyBA,OAAOD,QAAUD,EAAQG,QAAQ,UAC9E,mBAAXC,QAAyBA,OAAOC,IAAMD,OAAO,CAAC,SAAUJ,KAC9DD,EAA+B,oBAAfO,WAA6BA,WAAaP,GAAUQ,MAAcC,MAAQT,EAAOS,OAAS,GAAIT,EAAOS,MAAMC,WAAaT,EAAQD,EAAOS,SAH5J,CAIGE,KAAM,SAAWF,GAAS,aAEzB,SAASG,EAAuBC,GAAK,OAAOA,GAAkB,iBAANA,GAAkB,YAAaA,EAAIA,EAAI,CAAEC,QAAWD,GAE5G,IAAIE,EAA8BH,EAAsBH,GAExD,SAASO,KACT,SAASC,EAAgBC,EAAIC,GACzB,OAAID,IAAOF,EACAG,EACJ,WACH,IAAIC,EAAMF,EAAGG,MAAMV,KAAMW,WACzB,GAAIF,GAA2B,mBAAbA,EAAIG,KAAqB,CACvC,IAAIC,EAAOb,KAAMc,EAAOH,UACxB,OAAOF,EAAIG,KAAK,WACZ,OAAOJ,EAAGE,MAAMG,EAAMC,KAG9B,OAAON,EAAGE,MAAMV,KAAMW,YAG9B,SAASI,IAEL,IAAIC,EAAIC,KAAKC,MAMb,MALW,uCAAuCC,QAAQ,QAAS,SAAUC,GACzE,IAAIC,GAAKL,EAAoB,GAAhBM,KAAKC,UAAiB,GAAK,EAExC,OADAP,EAAIM,KAAKE,MAAMR,EAAI,KACL,MAANI,EAAYC,EAAS,EAAJA,EAAU,GAAMI,SAAS,MA+E1D,IAAIC,EAAS,EACTC,EAAS,EACTC,EAAS,EA8Hb,SAASC,EAAgBC,GAIrB,OAAO,SAAqBC,GAExB,IAAIA,EAAMC,KAAKC,WAAf,CAEAF,EAAMC,KAAKC,YAAa,EACxB,IAAIC,EAAYH,EAAMI,KACtBJ,EAAMC,KAAK,YAAYI,UAtI/B,SAA0BN,EAAIC,GAC1B,OAAO,SAAsBM,EAASC,EAAKC,GAEvC,IAAIC,OAAKC,OACOA,IAAZJ,GAAyBN,EAAMW,OAAOL,QAAQM,OAC9CN,EAAUG,EAAKzB,IACXgB,EAAMW,OAAOL,QAAQO,SACrBxC,EAAwB,QAAEyC,aAAaP,EAAKP,EAAMW,OAAOL,QAAQO,QAASP,IAGlF,IAAIS,EAAS,CACTC,OAAQR,EAAMQ,QAAU,KACxBhB,MAAOA,EAAMI,KACba,SAAiBP,IAAZJ,EAAwB,KAAOA,EACpCY,KAAMvB,EACNY,IAAKA,GAELY,EAAUpB,EAAGqB,SAASC,IAAIN,GAAQlC,KAAK,SAAUyC,GAEjD,OADAd,EAAMe,qBAAuBhC,KAAKiC,IAAIhB,EAAMe,qBAAsBD,GAC3DA,IAiBX,OAdArD,KAAKwD,UAAY,SAAUC,GACnBpB,GAAWoB,GACXP,EAAQQ,MAAM,WACVZ,EAAOE,IAAMS,EACb3B,EAAGqB,SAASQ,IAAIb,MAG5B9C,KAAK4D,QAAU,WAEXV,EAAQQ,MAAM,SAAUL,GAEpBvB,EAAGqB,SAASU,OAAOR,MAGpBb,GAkG0BsB,CAAiBhC,EAAIC,IACtDA,EAAMC,KAAK,YAAYI,UA/F/B,SAA0BN,EAAII,GAC1B,OAAO,SAAsB6B,EAAM1B,EAAS2B,EAAQzB,GAKhD,IAAI0B,EAAuB,GAIvBC,GAAkB,EAClBC,EAAS/D,EAAwB,QAAEgE,UAAUJ,GACjD,IAAK,IAAIK,KAAYN,EAAM,CACvB,IAAIO,EAAMP,EAAKM,GACf,QAAmB,IAARC,EACPlE,EAAwB,QAAEmE,aAAaJ,EAAQE,GAE/CH,IADAD,EAAqBI,GAAY,UAGhC,CACD,IAAIG,EAAepE,EAAwB,QAAEqE,aAAaT,EAAQK,GAC9DC,IAAQE,GAAgBE,KAAKC,UAAUL,KAASI,KAAKC,UAAUH,KAC/DpE,EAAwB,QAAEyC,aAAasB,EAAQE,EAAUC,GACzDL,EAAqBI,GAAYC,EACjCJ,GAAkB,IAI9B,GAAIA,EAAiB,CACjB,IAAIpB,EAAS,CACTC,OAAQR,EAAMQ,QAAU,KACxBhB,MAAOG,EACPc,IAAKX,EACLY,KAAMtB,EACNoC,KAAME,EACND,OAAQA,EACR1B,IAAK6B,GAELjB,EAAUpB,EAAGqB,SAASC,IAAIN,GAC9B9C,KAAKwD,UAAY,WACbN,EAAQQ,MAAM,SAAUL,GACpBd,EAAMe,qBAAuBhC,KAAKiC,IAAIhB,EAAMe,qBAAsBD,MAG1ErD,KAAK4D,QAAU,WAEXV,EAAQQ,MAAM,SAAUL,GAEpBvB,EAAGqB,SAASU,OAAOR,QA+CEuB,CAAiB9C,EAAII,IACtDH,EAAMC,KAAK,YAAYI,UAzC/B,SAA0BN,EAAII,GAC1B,OAAO,SAAsBG,EAASC,EAAKC,GAEvC,IAAIW,EAAUpB,EAAGqB,SAASC,IAAI,CAC1BL,OAAQR,EAAMQ,QAAU,KACxBhB,MAAOG,EACPc,IAAKX,EACLY,KAAMrB,EACNoC,OAAQ1B,IACT1B,KAAK,SAAUyC,GAEd,OADAd,EAAMe,qBAAuBhC,KAAKiC,IAAIhB,EAAMe,qBAAsBD,GAC3DA,IAENwB,MAAM,SAAU3E,GACjB4E,QAAQC,IAAIzC,GACZwC,QAAQC,IAAI7E,EAAE8E,SAElBhF,KAAK4D,QAAU,WAIXV,EAAQQ,MAAM,SAAUL,GAEpBvB,EAAGqB,SAASU,OAAOR,OAkBM4B,CAAiBnD,EAAII,MAuD9D,IAAIgD,EAAY9E,EAAwB,QAAE+E,QAC1C,SAASC,EAActD,EAAI/B,EAAYsF,EAAUC,EAAYC,GAKzD,IAAIC,EAA0B,GA8E9B,SAASC,IAEL,OAAKH,EAAWI,KAETtF,EAAwB,QAAEuF,kBAAkB,WAC/C,OAAO7D,EAAG8D,YAAY,KAAM,aAAc,WACtC,OAAO9D,EAAG+D,WAAWC,MAAM,CAAEC,gBAAiBT,EAAWI,KAAKM,KAAMC,QAAQ,SAAUC,GAElF,OADAA,EAASC,QAAQ,SAAUC,GAAO,OAMlD,SAAwBA,GACpB,GAAiB,aAAbA,EAAInD,KAAqB,CAEzB,IAAIoD,EAAUb,EAAwBY,EAAIE,UAAU7E,YAChD4E,IACID,EAAIG,UACJF,EAAQG,OAAOJ,EAAIK,QAAQC,OAG3BL,EAAQM,QAAQP,EAAIK,QAAQG,eAEzBpB,EAAwBY,EAAIE,UAAU7E,kBAKjD2E,EAAIO,QAAU,SAAUC,GACpB9E,EAAG+E,WAAWC,YAAY,WAAY,CAAEF,OAAQA,GAAUR,EAAIW,OAAQ,CAAET,UAAWF,EAAIJ,MAE3FI,EAAII,OAAS,SAAUE,GACnB5E,EAAG+E,WAAWC,YAAY,WAAY,CAAEJ,MAAOA,EAAMjF,YAAc2E,EAAIW,OAAQ,CAAER,WAAW,EAAMD,UAAWF,EAAIJ,MAErHlE,EAAGkF,GAAGP,QAAQQ,KAAKb,GA5B8Bc,CAAed,KACjDtE,EAAG+D,WAAWC,MAAM,MAAMqB,MAAMjB,EAASkB,IAAI,SAAUhB,GAAO,OAAOA,EAAIJ,MAAQnC,eALzFqB,EAAUsB,OAAO,IAAIpG,EAAwB,QAAEiH,qBA6C9D,OAvHAvF,EAAG+E,WAAWC,YAAc,SAAU7D,EAAMwD,EAASV,EAAiBuB,GAMlE,GADAA,EAAUA,GAAW,IAChBhC,EAAWI,KACZ,OAAO4B,EAAQC,UACXrC,EAAUsB,OAAO,IAAIpG,EAAwB,QAAEiH,qBAC/CnC,EAAUyB,UAClB,IAAIP,EAAM,CAAEK,QAASA,EAASV,gBAAiBA,EAAiBgB,OAAQzB,EAAWI,KAAKM,GAAI/C,KAAMA,GAElG,OADA7C,EAAwB,QAAEoH,OAAOpB,EAAKkB,GAC/BlH,EAAwB,QAAEuF,kBAAkB,WAC/C,IAAI8B,EAAS,CAAC,cACVH,EAAQC,WACRE,EAAOC,KAAK,cAChB,IAAIxE,EAAUpB,EAAG8D,YAAY,KAAM6B,EAAQ,WACvC,OAAIH,EAAQC,UAEDzF,EAAG6F,WAAW7B,MAAM,MAAM8B,OAAO7B,GAAiB8B,MAAM,SAAUC,GACrE,OAAIA,EACOhG,EAAG+D,WAAWzC,IAAIgD,GAElBtE,EAAG6F,WAAW7B,MAAM,YAAYiC,MAAM,GAAGC,MAAM,SAAUC,GAE5D,OADA7B,EAAIL,gBAAkBkC,EAAWjC,GAC1BlE,EAAG+D,WAAWzC,IAAIgD,OAM9BtE,EAAG+D,WAAWzC,IAAIgD,KAE9BxF,KAAK,SAAUsH,GACd,IAAI1F,EAAK,KAUT,OATI8E,EAAQC,YACR/E,EAAK,IAAI0C,EAAU,SAAUyB,EAASH,GAClChB,EAAwB0C,EAAUzG,YAAc,CAAEkF,QAASA,EAASH,OAAQA,MAGhFjB,GACAA,EAAa4C,QAAQ,8BAAgCrG,EAAGK,KAAM+F,EAAUzG,YAE5E1B,EAAWiH,GAAGoB,UAAUnB,KAAKnF,EAAGK,MACzBK,IAEX,OAAK8E,EAAQC,UAOFrE,OANPA,EAAQ2B,MAAM,iBAW1B/C,EAAG+E,WAAWwB,iBAAmB,SAAUpF,EAAMwD,EAAS6B,GACtD,GAAKhD,EAAWI,KAAhB,CAEA,IAAI6C,EAAejD,EAAWI,KAAKM,GACnC5F,EAAwB,QAAEuF,kBAAkB,WACxC7D,EAAG6F,WAAW1B,QAAQ,SAAUuC,GAC5B,OAAOtD,EAAUuD,IAAID,EAChBE,OAAO,SAAUhD,GAAQ,MAAqB,UAAdA,EAAKzC,OAAqBqF,GAAgB5C,EAAKM,KAAOuC,KACtFnB,IAAI,SAAU1B,GAAQ,OAAO5D,EAAG+E,WAAWC,YAAY7D,EAAMwD,EAASf,EAAKM,SACjFnB,MAAM,kBAoDV,CACH8D,YAPJ,SAAqBC,GAEbA,IAAW9G,EAAGK,MACdsD,IAA2BZ,MAAM,sBAAuB,eAK5DY,yBAA0BA,GAIlC,SAASoD,EAAwBC,GAC7B,OAAO,SAAUC,EAAQC,GAErBD,EAAiB,SAAI,QACrBA,EAAmB,WAAI,0DACvBA,EAAmB,WAAI,uBACvBA,EAA4B,oBAAI,YAEhCD,EAASG,KAAKjJ,KAAM+I,EAAQC,GAE5BE,OAAOC,KAAKH,GAAU7C,QAAQ,SAAUjE,GACpC,IAAIQ,EAASsG,EAAS9G,GACoB,IAAtCQ,EAAOL,QAAQF,KAAKiH,QAAQ,QAC5B1G,EAAOL,QAAQM,MAAO,EACtBD,EAAOL,QAAQF,KAAOO,EAAOL,QAAQF,KAAKkH,OAAO,GACjD3G,EAAOL,QAAQO,QAAUF,EAAOL,QAAQO,QAAQyG,OAAO,MAI/DH,OAAOC,KAAKH,GAAU7C,QAAQ,SAAUjE,GAEL,IAA3BA,EAAUkH,QAAQ,MAAyC,IAA3BlH,EAAUkH,QAAQ,OAClDJ,EAAS9G,GAAW2E,YAAa,MA0DjD,IA7QuB9G,EA6QnBV,EAASQ,KAKTyJ,EAAiBlJ,EAAwB,QAAEmJ,YAAY,CACvDlG,IAAKmG,OACLzG,OAAQ0G,OACR1H,MAAO0H,OACPzG,IAAKkG,OACLjG,KAAMuG,OACNlH,IAAK4G,OACLnF,KAAMmF,OACNlF,OAAQkF,SAGRQ,EAAWtJ,EAAwB,QAAEsJ,SACrCC,EAAYvJ,EAAwB,QAAE+E,QACtCyE,GAAwB,EAK5B,SAAS7J,EAAW+B,GAChB,IAAK,OAAO+H,KAAKzJ,EAAwB,QAAE0J,SACvC,MAAM,IAAIC,MAAM,6BACpB,GAAIjI,EAAG+E,YACH,GAA8B,kBAA1B/E,EAAG+E,WAAWiD,QACd,MAAM,IAAIC,MAAM,0CAFxB,CAKA,IAAIC,EAAe,IACnBC,EAAyB,IAGzBC,EAAa,IACbC,EAAqBH,EAAe,IAChCzE,EAAexF,EAAWqK,iBAK1B/E,EAAWjF,EAAwB,QAAEmJ,YAAY,CAEjDc,WAAYb,OACZvG,KAAMwG,OACNa,cAAed,OACfe,gBAAiBf,OACjBgB,IAAKf,OACLgB,SAAUjB,OAEVkB,aAAcjB,OACdkB,YAAa,KACbC,YAAa1B,OACb2B,WAAW,EACXC,OAAQtB,OACRuB,sBAAuB,KACvBC,oBAAqB,CAAC,CAAEC,MAAOzB,OAAQ0B,OAAQ,OAC/CC,cAAe,CACXC,eAAgB,CAAC3B,QACjB4B,aAAc5B,OACd6B,WAAY,KACZC,kBAAmB/B,UAG3B1H,EAAG+E,WAAa,CAAEiD,QAAS,iBAC3BhI,EAAG+E,WAAWxB,SAAWA,EACzB,IAAImG,EArfR,SAA6B1J,EAAI/B,EAAYwF,GACzC,OAAO,SAAyBkG,GAExB1L,EAAW2L,eAAe5J,EAAGK,MAAQsJ,IAErC1L,EAAW2L,eAAe5J,EAAGK,MAAQsJ,EAErCrL,EAAwB,QAAEuF,kBAAkB,WACxC5F,EAAWiH,GAAG,6BAA6BC,KAAKnF,EAAGK,KAAMsJ,KAMzDlG,GACAA,EAAa4C,QAAQ,mCAAqCrG,EAAGK,KAAMsJ,KAsezDE,CAAoB7J,EAAI/B,EAAYwF,GACtDqG,EA3iBR,SAAuC9J,EAAI0J,GACvC,OAAO,SAAmC1C,GACtC,OAAO,SAAU+C,EAAMC,EAAYC,EAAUC,GACzC,GAAIlK,EAAGmK,oBACH,OAAOnD,EAASpI,MAAMV,KAAMW,WAChC,IAAIuL,GAAa,EACJ,cAATL,GAAwBC,EAAWK,KAAK,SAAUC,GAClD,OAAOL,EAASK,IAAcL,EAASK,GAAWvF,eAGlDqF,GAAa,GAE2B,KADxCJ,EAAaA,EAAWO,MAAM,IACfjD,QAAQ,aACnB0C,EAAWpE,KAAK,aAGxB,IAAInF,EAAQuG,EAASG,KAAKjJ,KAAM6L,EAAMC,EAAYC,EAAUC,GAgC5D,OA9BIE,IACA3J,EAAMe,qBAAuB,EAC7Bf,EAAMyE,GAAG,WAAY,WACjB,GAAIzE,EAAMe,qBAEN,GAAK0I,EAUA,CAID,IAAIM,EAAkB,SAAUC,EAAoBhK,GAChD,OAAOA,EAAMyJ,OAASO,EAAoBhK,EAAMyJ,QAAUzJ,EADxC,CAEnByJ,GACHM,EAAgBhJ,qBAAuBhC,KAAKiC,IAAIhB,EAAMe,qBAAsBgJ,EAAgBb,qBAAuB,QAd/GD,EAAgBgB,eAChBC,aAAajB,EAAgBgB,eACjChB,EAAgBgB,cAAgBE,WAAW,kBAChClB,EAAgBgB,cACvBhB,EAAgBjJ,EAAMe,uBACvB,MAcXf,EAAMyJ,QAAUzJ,EAAMyJ,OAAOjJ,SAC7BR,EAAMQ,OAASR,EAAMyJ,OAAOjJ,SAE7BR,IA2fiBoK,CAA8B7K,EAAI0J,GAC9DoB,EAAc/K,EAAgBC,GAC9B+K,EApTR,SAA0B/K,EAAIuD,EAAUuH,GACpC,OAAO,SAAsBE,GACzB,OAAO,WAaH,OATA5D,OAAOC,KAAKrH,EAAGiL,YAAY5G,QAAQ,SAAUjE,GACzC,IAAIH,EAAQD,EAAGiL,WAAW7K,GACtBH,EAAMW,OAAOmE,YACb+F,EAAY7K,GAEG,eAAfA,EAAMI,MACNJ,EAAMiL,WAAW3H,KAGlByH,EAASpM,MAAMV,KAAMW,aAqSjBsM,CAAiBnL,EAAIuD,EAAUuH,GAC9CtH,EAAa,CAAEI,KAAM,MACrB0C,EAAYhD,EAActD,EAAI/B,EAAYsF,EAAUC,EAAYC,GAChEoD,EAAcP,EAAUO,YACxBlD,EAA2B2C,EAAU3C,yBAEzCyD,OAAOgE,eAAepL,EAAI,iBAAkB,CACxCqL,IAAK,WAAc,OAAO7H,EAAWI,QAEzC,IAAI0H,EAAa,KAAMC,EAAkB,KACrCjN,EAAwB,QAAEkN,OAG1BxL,EAAGgI,QAAQ,GAAGf,OAAO,CACjBpB,WAAY,gCACZxE,SAAU,QACV0C,WAAY,uBACZ0H,oBAAqB,cAEzBzL,EAAG6F,WAAWqF,WAAW3H,GACzBvD,EAAGqB,SAAS6J,WAAW1D,GACvBhE,EAAWI,KAAO,IAAIL,EAAS,CAC3BgF,WAAY,EACZpH,KAAM,QACNqH,cAAerJ,KAAKC,MACpBqJ,gBAAiB,QAOzBzI,EAAG0L,QAAQC,UAAUC,iBAAmBhE,EAAS5H,EAAG0L,QAAQC,UAAUC,iBAAkB7E,GAExF/G,EAAGkF,GAAG2G,aAAa,CACfC,QAAS,OACTC,QAAS,CAACvN,EAAiBD,GAC3BoG,QAAS,SAKb3E,EAAGgM,mBAAqBpE,EAAS5H,EAAGgM,mBAAoBlC,GAIxD7L,EAAW2L,eAAe5J,EAAGK,MAAQpC,EAAW2L,eAAe5J,EAAGK,OAAS,EAI3EL,EAAGiM,KAAOrE,EAAS5H,EAAGiM,KAAMlB,GAC5B/K,EAAGkM,MAAQtE,EAAS5H,EAAGkM,MAAO,SAAUC,GACpC,OAAO,WACH,OAAInM,EAAGmK,sBAGHT,EAAgBgB,gBAChBC,aAAajB,EAAgBgB,sBACtBhB,EAAgBgB,eAE3BzM,EAAWiH,GAAG,6BAA6BkH,YAAYC,GACvDpO,EAAWiH,GAAG,oBAAoBkH,YAAYE,GAC9CrO,EAAWiH,GAAG,aAAakH,YAAYvF,GACvC5I,EAAWiH,GAAG,gBAAgBkH,YAAYG,GAEtC/I,EAAWI,MAAQJ,EAAWI,KAAKM,KACnCjG,EAAWiH,GAAGsH,iBAAiBrH,KAAKnF,EAAGK,KAAMmD,EAAWI,KAAKM,IAEzDT,GACAA,EAAa4C,QAAQ,6BAA+B7C,EAAWI,KAAKM,GAAGvE,WAAa,IAAMK,EAAGK,KAAM,QAEvGmD,EAAWI,KAAK6E,gBAAkB,EAClCjF,EAAWI,KAAK4E,cAAgB,EAChCxI,EAAG6F,WAAWhE,IAAI2B,EAAWI,MAC7BJ,EAAWI,KAAO,MAElB0H,GACAX,aAAaW,GACjBA,EAAa,KACTC,GACAZ,aAAaY,GACjBA,EAAkB,MA3BPY,EAAUvN,MAAMV,KAAMW,cAgCzCmB,EAAG+B,OAAS6F,EAAS5H,EAAG+B,OAAQ,SAAU0K,GACtC,OAAO,WACH,OAAOA,EAAW7N,MAAMV,KAAMW,WAAWC,KAAK,SAAUgG,GAGpD,OADA7G,EAAW2L,eAAe5J,EAAGK,MAAQ,EAC9ByE,OAKnB9E,EAAGkF,GAAG,QAAS,WACX,OAAIlF,EAAGmK,oBACInK,EACJA,EAAGC,MAAM,YAAYyM,QAAQ,OAAOC,KAAK,SAAUC,GAGtD,IAAIhD,EAAkBgD,EAAaA,EAAWrL,IAAM,EAiBpD,OAhBAiC,EAAWI,KAAO,IAAIL,EAAS,CAC3BgF,WAAYqB,EACZzI,KAAM,QACNqH,cAAerJ,KAAKC,MACpBqJ,gBAAiB,KACjBE,SAAU,IAEV1K,EAAW2L,eAAe5J,EAAGK,MAAQuJ,IAGrC3L,EAAW2L,eAAe5J,EAAGK,MAAQuJ,EACrCtL,EAAwB,QAAEuF,kBAAkB,WACxC5F,EAAWiH,GAAG2H,0BAA0B1H,KAAKyE,MAI9C5J,EAAG6F,WAAWhE,IAAI2B,EAAWI,MAAM9E,KAAKR,EAAwB,QAAEuF,kBAAkB,WAEvF,IAAIiJ,EAA+B,EACnC,OAAO9M,EAAG6F,WAAW6G,QAAQ,YAAYK,UAAUC,OAAO,SAAUC,GAC5DA,EAAatE,WACTsE,EAAazE,cAAgBrJ,KAAKC,MAAQ8I,EAE1C+E,EAAatE,SAAW,EAIxBmE,EAA+B,GAIlCtJ,EAAWI,MAIZqJ,EAAa/I,KAAOV,EAAWI,KAAKM,KACpC+I,EAAatE,SAAWnF,EAAWI,KAAK+E,SAAWmE,QAG3DhO,KAAK,WACLb,EAAWiH,GAAG,4BAA6BmH,GAC3CpO,EAAWiH,GAAG,eAAgBqH,GAC9BtO,EAAWiH,GAAG,mBAAoBoH,GAClCrO,EAAWiH,GAAG,YAAa2B,GAE3ByE,EAAaV,WAAWsC,EAAM9E,GAE9BmD,EAAkBX,WAAWuC,EAAW9E,KACzCvJ,KAAK,WACJiN,UAGT,GACH,IAAIqB,EAAkB,EACtB,SAASf,EAA4BvF,EAAQ8C,GACzC,GAAI9C,IAAW9G,EAAGK,KAAM,CACpB,GAAuBuJ,GAAnBwD,EACA,OACJA,EAAkBxD,EAClBtL,EAAwB,QAAE+O,IAAI,WAC1BC,IAAcvK,MAAM,sBAAuB,iBASvD,SAASuK,EAAY1D,EAAgB2D,EAAWC,GAI5C,IAAKD,GAAaD,EAAYG,iBAI1B,OAAOH,EAAYG,iBAEvB,IAAIC,GAAU,EACVC,EAAcnK,EAAWI,KAC7B,IAAK+J,EACD,OAAO9F,EAAUnD,OAAO,IAAIpG,EAAwB,QAAEiH,qBAE1D,IACInE,EAAUpB,EAAGqB,SAAS2C,MAAM,OAAOiC,MAAM0H,EAAYpF,YAAYqF,MADzD,KACsEzJ,QAAQ,SAAU2H,GAChG,GAAqB,EAAjBA,EAAQ+B,OAAY,CACpB,IAAIjB,EAAad,EAAQA,EAAQ+B,OAAS,GAC1CH,EAJI,MAIO5B,EAAQ+B,OACnB7N,EAAGkF,GAAG,WAAWC,KAAK2G,EAAS4B,GAC/BC,EAAYpF,WAAaqE,EAAWrL,SAE/BiM,GAGLxN,EAAGkF,GAAG,WAAWC,KAAK,IAAI,GAE9B,IAAI2I,GAAqB,EACzB,OAAO9N,EAAG6F,WAAW7B,MAAM,OAAO8B,OAAO6H,EAAYzJ,IAAI8I,OAAO,SAAUe,GACtED,GAAqB,EACrBC,EAASvF,cAAgBrJ,KAAKC,MAC9B2O,EAAStF,gBAAkB,KAC3BsF,EAASxF,WAAa/I,KAAKiC,IAAIsM,EAASxF,WAAYoF,EAAYpF,cACjEzJ,KAAK,WAAc,OAAOgP,MAC9BhP,KAAK,SAAUgP,GACd,IAAKA,EAED,MAAIhG,EACM,IAAIG,MAAM,6BAGhBjI,EAAGkM,QACHlJ,QAAQ4B,MAAM,eACVrH,EAAOyQ,UACPzQ,EAAOyQ,SAASC,QAAO,GACrB,IAAIhG,MAAM,gBAKxB,GAAIyF,GAAWzP,EAAW2L,eAAe5J,EAAGK,MAAQsN,EAAYpF,WAG5D,OAAO+E,EAAYrP,EAAW2L,eAAe5J,EAAGK,OAAQkN,GAAa,GAAK,EAAGG,KAElFQ,QAAQ,kBACAZ,EAAYG,mBAKvB,OAHKF,IACDD,EAAYG,iBAAmBrM,GAE5BA,EAcX,SAAS+L,IACL5B,EAAkB,KAClB,IAAI4C,EAAkB3K,EAAWI,MAAQJ,EAAWI,KAAKM,GACpDiK,GAELnO,EAAG8D,YAAY,MAAO9D,EAAG6F,WAAY,WACjC7F,EAAG6F,WAAW7B,MAAM,CAAEE,GAAIiK,IAAmBjI,MAAM,SAAUyH,GACzD,GAAKA,EAQL,OAFAA,EAAYnF,cAAgBrJ,KAAKC,MACjCuO,EAAYlF,gBAAkB,KACvBzI,EAAG6F,WAAWhE,IAAI8L,GANjB3N,EAAGoO,UACHpO,EAAGkM,YAOhBnJ,MAAM,sBAAuB,cAE7BmL,QAAQ,WACH1K,EAAWI,MAAQJ,EAAWI,KAAKM,KAAOiK,GAAmBnO,EAAGoO,WAChE7C,EAAkBX,WAAWuC,EAAW9E,MAIpD,SAAS6E,IACL5B,EAAa,KACb,IAAI6C,EAAkB3K,EAAWI,MAAQJ,EAAWI,KAAKM,GACpDiK,GAEL7P,EAAwB,QAAE+O,IAAI,WAC1BC,EAAYrP,EAAW2L,eAAe5J,EAAGK,OAAOvB,KAAKiN,GAASjN,KAAK6E,GAC9DZ,MAAM,sBAAuB,cAM7BmL,QAAQ,WAEL1K,EAAWI,MAAQJ,EAAWI,KAAKM,KAAOiK,GAAmBnO,EAAGoO,WAChE9C,EAAaV,WAAWsC,EAAM9E,QAK9C,SAAS2D,IACL,IAAI4B,EAAcnK,EAAWI,KAC7B,OAAK+J,EAEE3N,EAAG8D,YAAY,KAAM,aAAc,WAAY,aAAc,WAMhE,IAAIuK,GAAiB,EACrBrO,EAAG6F,WAAW7B,MAAM,iBAAiBsK,MAAMnP,KAAKC,MAAQ8I,GAActB,OAAO,SAAUhD,GAAQ,MAAqB,UAAdA,EAAKzC,OAAqB6L,OAAO,SAAUpJ,GACzIA,EAAK6E,iBAAmB7E,EAAK6E,gBAAkBtJ,KAAKC,cAE7ClB,KAAKqQ,MAER9K,GACAA,EAAa+K,WAAW,6BAA+B5K,EAAKM,GAAK,IAAMlE,EAAGK,MAG1EuD,EAAK+E,WAGL3I,EAAG6F,WAAW4I,OAAOd,EAAa,CAAEhF,SAAU,IAC9C0F,GAAiB,GAIrBrO,EAAG+D,WAAWC,MAAM,CAAEC,gBAAiBL,EAAKM,KAAM8I,OAAO,SAAU1I,GAC3DA,EAAImB,UACJnB,EAAIL,gBAAkB0J,EAAYzJ,UAG3BhG,KAAKqQ,SAGd3K,EAAK6E,kBAEX7E,EAAK6E,gBAAkBtJ,KAAKC,MAAQ+I,KAEzCrJ,KAAK,WAGJ,OADAb,EAAWyQ,iBAAiB1O,GACrBA,EAAGkF,GAAG,WAAWC,KAAKkJ,OAxC1BxG,EAAUnD,OAAO,IAAIpG,EAAwB,QAAEiH,qBA4C9D,SAASgH,IAEA/I,EAAWI,OAEhBkE,GAAwB,EACxBtE,EAAWI,KAAK6E,gBAAkB,EAClCjF,EAAWI,KAAK4E,cAAgB,EAChCxI,EAAG6F,WAAWhE,IAAI2B,EAAWI,MAC7B3F,EAAW0Q,iBAAkB,EAEzBlL,GACAA,EAAa4C,QAAQ,6BAA+B7C,EAAWI,KAAKM,GAAGvE,WAAa,IAAMK,EAAGK,KAAM,SAG3G,SAASiM,EAAUxF,EAAQ8H,GACnB9H,IAAW9G,EAAGK,MAASpC,EAAW0Q,iBAIlCrQ,EAAwB,QAAE+O,IAAI,WAC1BrN,EAAG6F,WAAW4I,OAAOG,EAAQ,CAAEnG,gBAAiB,EAAGD,cAAe,IAAK1J,KAAKiN,MAQ5F9N,EAAW+J,QAAU,gBACrB/J,EAAW2L,eAAiB,GAC5B3L,EAAWiH,GAAK5G,EAAwB,QAAEuQ,OAAO,KAAM,4BAA6B,mBAAoB,YAAa,gBACrH5Q,EAAWgB,WAAaA,EACxBhB,EAAWyQ,iBA/eX,SAASA,EAAiB1O,GAQtB1B,EAAwB,QAAEuF,kBAAkB,WACxC,OAAO7D,EAAG6F,WAAW6G,QAAQ,cAAcxG,MAAM,SAAU4I,GACvD,OAAO9O,EAAGqB,SACL2C,MAAM,OAAOsK,MAAMQ,EAAWvG,YAC9BqF,MALI,KAMJmB,gBACNjQ,KAAK,SAAUkQ,GACd,GAA4B,IAAxBA,EAAanB,OAEjB,OAAO7N,EAAGqB,SAAS4N,WAAWD,GAAclQ,KAAK,WAVxC,MAYDkQ,EAAanB,QAEbjD,WAAW,WAAc,OAAO5K,EAAGoO,UAAYM,EAAiB1O,IAAQ,WAIrF+C,MAAM,eAudb9E,EAAWiR,YAzsBYjR,EAysBeA,EAxsB3B,SAAmBkR,GAEtB,GAAIA,EAAMjO,KAAkD,IAA3CiO,EAAMjO,IAAIoG,QAAQ,qBAA4B,CAC3D,IAAI8H,EAAQD,EAAMjO,IAAImO,MAAM,KACxBC,EAAOF,EAAM,GACbtI,EAASsI,EAAM,GACnB,GAAa,mBAATE,EAA2B,CAC3B,IAAI/N,EAAMgO,SAASJ,EAAMK,SAAU,KAC9BC,MAAMlO,IAAQA,EAAMtD,EAAW2L,eAAe9C,KAC/C7I,EAAW2L,eAAe9C,GAAUvF,EACpCjD,EAAwB,QAAEuF,kBAAkB,WACxC5F,EAAWiH,GAAG,6BAA6BC,KAAK2B,EAAQvF,WAI/D,GAAkC,IAA9B+N,EAAKhI,QAAQ,aAAoB,CACtC,IAAIsH,EAASW,SAASD,EAAKD,MAAM,KAAK,GAAI,IACtCF,EAAMK,UACNvR,EAAWiH,GAAGsH,iBAAiBrH,KAAK2B,EAAQ8H,OAGlC,cAATU,GACDH,EAAMK,UACNvR,EAAWiH,GAAGoB,UAAUnB,KAAK2B,MAkrBjD7I,EAAWyR,gBAAkB,WACzBzR,EAAWiH,GAAGyK,aAAaxK,QAE/B,IACIlH,EAAWqK,iBAAmB/K,EAAOkG,aAEzC,MAAOmM,IAQP,IAJIrS,MAAAA,OAAuC,EAASA,EAAOsS,oBACvDtS,EAAOsS,iBAAiB,UAAW5R,EAAWiR,YAC9C3R,EAAOsS,iBAAiB,eAAgB5R,EAAWyR,kBAEnDpR,EAAwB,QAAEL,YAC1B,GAAqD,kBAAjDK,EAAwB,QAAEL,WAAW+J,QACrC,MAAM,IAAIC,MAAM,2CAKpB3J,EAAwB,QAAEL,WAAaA,EACvCK,EAAwB,QAAEwR,OAAOlK,KAAK3H,GAI1C,OAFuBK,EAAwB,QAAEL"}